# tf_base
# Terraform Base Homework

## Ветвление
Отработаем использование тернарного оператора – научим плейбук генерировать пару SSH ключей, если пользователь не указал публичный SSH ключ для виртуальных машин.
Мы продолжим дорабатывать проект из предыдущих модулей.

1. Объявите переменную public_ssh_key_path
2. Создайте в проекте отдельный файл keys.tf и в нем опишите ресурс tls_private_key с алгоритмом RSA

Не забудьте добавить в providers.tf провайдер tls

3. Добавьте в ресурсы виртуальных машин возможность выбора – либо пользователь указал переменную public_ssh_key_path, либо использовать публичный ключ, сгенерированный в tls_private_key
4. Добавьте output private_ssh_key для приватной части ключа. Тут тоже нужно добавить ветвление. Если пользователь указал публичный ключ сам, то выводить пустую строку
При применении конфигурации у вас может возникнуть ошибка с приватными данными. Поправьте ее так, как говорит terraform.
5. Примените конфигурацию без указание пути к публичному ключу
Для просмотра sensitive данных в output можно воспользоваться командой
terraform output -json
6. Сохраните приватный ключ, проверьте, что можете с ним подключиться к виртуальным машинам по SSH
7. Проверьте, что работает второй вариант, когда пользователь указывает путь к ключу
8. После завершения задания удалите созданную инфрастурктуру