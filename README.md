# tf_base
# Terraform Base Homework

## Динамические блоки
В этом задании научимся использовать блок dynamic для генерации повторяющихся блоков опций в ресурсах.

Хороший способ потренироваться в использовании dynamic это динамическое добавление таргетов в таргет группу балансировщика. Она как раз принимает повторяющиеся блоки target для каждой виртуальной машины.

1. Добавьте в конфигурацию таргет группы для балансировщика dynamic блок с таргетами, так как было показано в видео.
Для итерации используйте список созданных виртуальных машин. Для получения адреса и subnet_id для каждого таргета используйте следующие атрибуты вм:
```target.value.network_interface[0]subnet_id```
```target.value.network_interface[0]ip_address```
2. Проверьте работу плейбука. Попробуйте изменить количество виртуальных машин после первого применения конфигурации.
Если все сделано верно, новая виртуальная машина должна автоматически добавляться в таргет группу балансировщика.
3. После выполнения задания удалите созданную инфраструктуру