# tf_base
# Terraform Base Homework

## Установка пакетов на вм с помощью remote-exec
Попробуем использование remote-exec провиженера. В некоторых случаях, он может быть удобен для установки необходимых пакетов перед запуском основного провиженинга. Например когда используется Ansible, на виртуальной машине должен быть установлен Python.

1. Добавьте в конфигурацию виртуальных машин remote-exec с inline скриптом, чтобы обновить все пакеты и выполнить команды ping с тремя запросами для проверки работоспособности сети.
2. Примените конфигурацию, проверьте корректность работы скрипта.
3. После завершения задания удалите конфигурацию.

## Интеграция Ansible и Terraform
В этом задании попробуем на практике запуск Ansible с помощью local-exec в Terraform. Этот способ подходит так же для запуска любых систем configuration-management или локальных скриптов.

1. Скопируйте в свой проект диретокрию 6.additional_features/ansible из репозитория с практиками.
2. Добавьте в конфигурацию виртуальной машины блок с local-exec и вызовом Ansible.
3. Примените конфигурацию. Проверьте что Ansible отработал корректно. В нашем проекте есть балансировщик, сконфигурируйте его для проксирования трафика на 80 порт виртуальных машин. Проверьте через IP балансировщика, что вы видите ответы от Nginxов с виртуальной машины.
4. После выполнения задания удалите созданную инфраструктуру