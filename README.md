# tf_base
Terraform Base Homework

Внесение изменений в конфигурацию налету
В следующих двух заданиях посмотрим на то, как терраформ применяет конфигурацию. Рассмотрим два примера – изменения, которые подхватываются "налету" и изменения, для которых нужна перезагрузка виртуальной машины.

Стоит помнить также, что при работе с терраформом возможны изменения только с пересозданием объектов инфраструктуры. Всегда обращайте внимание на вывод команды terraform plan перед внесением изменений.

1. Создайте инфраструктуру в облаке из вашего проекта для предыдущего задания.
2. Добавьте метки (labels) project=slurm, env=lab на подсети из предыдущего задания.
3. Примените конфигурацию еще раз. Если все сделано правильно, Terraform должен внести изменения без пересоздания подсетей.
4. Проверьте наличие меток в UI консоли облака или с помощью утилиты yc.

Внесение изменений в конфигурацию с перезагрузкой

1. Измените описание виртуальных машин из прошлого задания, увеличив количество CPU и памяти на машинах.
2. Добавьте нужный параметр в конфигурацию виртуальных машин, чтобы было разрешение для Terraform перезагружать виртуальную машину для внесения изменений (см лекцию).
3. Примените конфигурацию еще раз. В случае, если все сделано правильно, Terraform должен выключить виртуальные машины, внести изменения и запустить их обратно.
4. Проверьте, что параметры виртуальных машин действительно изменились и они находятся в запущенном состоянии.
5. После завершения задания удалите созданную инфраструктуру.